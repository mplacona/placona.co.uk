---
id: 1321
layout: post
title: A first look at Dart
date: 2014-03-12T08:28:10+00:00
categories:
  - Dart
tags:
  - Open Source
  - Technology
---
A few weeks ago, I went to a Google sponsored event called Dart Flight School. The aim is to promote the language by doing a road trip and presenting use-cases and samples. The presentations were brief, and mainly focused on discussing the language's functionalities, and its seamless integration with <a title="AngularJS website" href="http://angularjs.org/" target="_blank">AngularJS</a> (also maintained by Google)

I had a chance to look at Dart before, and was interested in finding out more things about it. Turns out the language (and platform) are pretty slick, and the development tool-set is pretty complete. The IDE is pretty good (and free), and their package management system is pretty similar to NPM's in NodeJS.

Dart is also very (very, very) fast, and is in fact faster than V8 (VM used by NodeJS). A performance comparison can be seen below.

<div id="attachment_1342" style="width: 952px" class="wp-caption alignnone">
  <a href="https://www.dartlang.org/performance/"><img class="size-full wp-image-1342 " alt="Dart vs V8 Engine" src="http://www.placona.co.uk/wp-content/uploads/2014/03/Screen-Shot-2014-03-05-at-09.00.47.png" width="942" height="425" srcset="https://www.placona.co.uk/wp-content/uploads/2014/03/Screen-Shot-2014-03-05-at-09.00.47.png 942w, https://www.placona.co.uk/wp-content/uploads/2014/03/Screen-Shot-2014-03-05-at-09.00.47-300x135.png 300w, https://www.placona.co.uk/wp-content/uploads/2014/03/Screen-Shot-2014-03-05-at-09.00.47-676x304.png 676w, https://www.placona.co.uk/wp-content/uploads/2014/03/Screen-Shot-2014-03-05-at-09.00.47-900x406.png 900w" sizes="(max-width: 942px) 100vw, 942px" /></a>
  
  <p class="wp-caption-text">
    Data gathered from https://www.dartlang.org/performance/
  </p>
</div>

It comes bundled with an out of the box converter to JS, which means you can write your entire application in Dart, and then convert it to JavaScript. I must say I was initially sceptical about this conversion, but upon looking on the performance page, it seems even after conversion, JS generated by dart still manages to be faster than V8 (purple line above). The JS converter is a Dart application written in Dart, which means you could then convert it to a JS application using itself.... bewildering eh?

## Language

From a language point of view, dart seemed to be very readable, and compliant with contemporary languages such as Java and C#. It is a class based language that allows you to fully use object orientation, and has some very nifty functionalities embedded in it, where you can for example define a method using shorthand syntax as such:

<div class="oembed-gist">
  <noscript>
    View the code on <a href="https://gist.github.com/mplacona/9363910">Gist</a>.
  </noscript>
</div>

### Data Structures

Its core library also provides you with [Lists](http://en.wikipedia.org/wiki/List_(abstract_data_type) "Lists - Wikipedia"), [Sets](http://en.wikipedia.org/wiki/Set_(abstract_data_type) "Sets - Wikipedia") and [Maps](http://en.wikipedia.org/wiki/Hash_table "Maps - Wikipedia"), which basically means no imports, as you get that straight out-of-the-box. So for example if you wanted to create a Map and iterate through it, you could simply do:

<div class="oembed-gist">
  <noscript>
    View the code on <a href="https://gist.github.com/mplacona/9389874">Gist</a>.
  </noscript>
</div>

### Unit Tests

A big part of writing great code lies with the ability to provide unit tests that will make sure your code remains awesome even after refactoring. With dart, you can as easily create unit tests by importing unittest

<div class="oembed-gist">
  <noscript>
    View the code on <a href="https://gist.github.com/mplacona/9407753">Gist</a>.
  </noscript>
</div>

And obviously I could have just as easily grouped my tests in a single group to have them maybe organized in smaller units. I've also used shorthand syntax to define my tests here

<div class="oembed-gist">
  <noscript>
    View the code on <a href="https://gist.github.com/mplacona/9407959">Gist</a>.
  </noscript>
</div>

### Reflection

Is supported by a library called Mirrors (enough said?). Though I feel I haven't played with that enough to give you any better example than <a title="Reflection with mirrors" href="https://www.dartlang.org/articles/reflection-with-mirrors/" target="_blank">this</a>.

### Futures

According to <a title="Dart - What is a Future" href="https://www.dartlang.org/docs/tutorials/futures/#what-is-a-future" target="_blank">Dart's own website</a>, a Future represents a means for getting a value sometime in the future. When a function that returns a Future is invoked, two things happen:

  1. The function queues up work to be done and returns an uncompleted Future object immediately.
  2. Later, when a value is available, the Future object completes with that value (or with an error).

> Why would I use Futures instead of simply calling my expensive processes and waiting for them to complete?

I like to think that the people who read my blog know better than asking the question above, as it makes me feel fuzzy and warm. However if you thought of asking this question but were ashamed to actually do so, I will take you through it, and we will pretend this never happened.

It turns out, that if you do that, you will lock the thread until your application becomes responsive again, which can range from a few milliseconds to God forbid a few seconds. Meaning your users will stay put (or most likely leave) until you finish processing their request and show them some meaningful content. Think of it as "waiting 'till Friday is upon us".

<a title="Seth Ladd" href="https://plus.google.com/+SethLadd/" target="_blank">Seth Ladd</a> gives a great example of the power a Future can have in your application

<div class="oembed-gist">
  <noscript>
    View the code on <a href="https://gist.github.com/mplacona/9423112">Gist</a>.
  </noscript>
</div>

You can read more <a title="Using futures in dart for better Async" href="http://blog.sethladd.com/2012/03/using-futures-in-dart-for-better-async.html" target="_blank">here</a>.

### Generics

<div class="oembed-gist">
  <noscript>
    View the code on <a href="https://gist.github.com/mplacona/9423074">Gist</a>.
  </noscript>
</div>

Need I say anything? Need I?

## Libraries

In this day and age, you want to be able to work with a language that offers you integrated package management. I have worked with numerous languages in the past, and managing third party packages has always been the pain of my life. The first time I looked at Ruby, I immediately fell in love with its package management system. Granted some languages try to accommodate for this by adding capabilities to builders such as Gradle, Ant or Maven. But I digress....

Dart comes with a package manager called [Pub](https://www.dartlang.org/tools/pub/get-started.html "Dart - Pub"), which means all you need is a <abbr title='YAML Ain't Markup Language' rel='tooltip'>yaml</abbr> file inside your project where you can specify any libraries your project needs, as well as which version you would like to be locked to. that way, you only need to package your application with what it really needs, and all the external libraries will be downloaded on the time you deploy your project. This makes your application lean and easy to maintain.

A pubspec.yaml file would look something like:

<div class="oembed-gist">
  <noscript>
    View the code on <a href="https://gist.github.com/mplacona/9386012">Gist</a>.
  </noscript>
</div>

Then run the following from terminal to download all dependencies:

<div class="oembed-gist">
  <noscript>
    View the code on <a href="https://gist.github.com/mplacona/9386048">Gist</a>.
  </noscript>
</div>

## Cool Factor

Dart is a cool language and very simple to pick up, but as with all the things in life (although you don't always like to admit it), the known is always a lot simpler, and Dart strives to offer simplicity, which means if you have done any proper language in the past, you'll be able to read and write Dart code with ease. Dart themselves state

> "We did throw in some nice syntactic features such as `this.` constructor args and `=>` for one-line functions, but we’d agree that Dart chooses familiarity over excitement"

## Final Verdict

It's very exciting to see such fresh language being supported and built by Google. In my opinion, the language offers everything the "<a title="NodeJS" href="http://nodejs.org/" target="_blank">cool</a> <a title="Go Lang" href="http://golang.org/" target="_blank">kids</a> <a title="Haskell" href="http://www.haskell.org/haskellwiki/Haskell" target="_blank">platforms</a>" offer and more. It also has capabilities that allow you to run Dart on the server side, client side and even <a title="Dartium" href="https://www.dartlang.org/tools/dartium/" target="_blank">natively on the browser</a>. According to their documentation, the engineers behind Dart have an Android and Google App Engine integration on the back of their heads, and even though they say it's not completely down to them, they mention on their FAQ's you'd need to ask the team. But I'd say the fact they have thought of it is already half the battle won.

From a language perspective, I found nothing that would put me off writing code on it (and I'm pretty fussy about semantics). Instead I have found I genuinely enjoyed writing code in Dart, and was left with a nice after-taste after attending Dart Flight School. Even though I understand we had a much cut-down version of the even here in the UK.

## From Here

  * Make sure you check out <a title="Dart Language Website" href="https://www.dartlang.org/" target="_blank">Dart's website</a> and <a title="Dart Editor" href="https://www.dartlang.org/tools/editor/" target="_blank">Download its IDE</a>
  * Check-out <a title="Dart Codelab" href="https://www.dartlang.org/codelabs/darrrt/" target="_blank">Dart's codelab</a>. It will give you a taste of how Dart runs, and you get to <a title="Colt McAnlis talking like a pirate" href="http://www.youtube.com/watch?v=RWmzxyMf2cE" target="_blank">talk like a pirate</a>
  * Go read <a title="Dart Articles" href="https://www.dartlang.org/articles/" target="_blank">some articles</a>. There are some gems in there, and even if you decide to totally ignore Dart, reading the articles is bound to make you a better developer anyway.
  * Run <a title="Execute Dart online" href="http://www.compileonline.com/execute_dart_online.php" target="_blank">Dart code online</a> for quick snippets
  * Check out <a title="+Dartlang on Google+" href="https://plus.google.com/+dartlang/" target="_blank">+Dartlang</a> on Google+
  * Follow <a title="Seth Ladd on Google+" href="https://plus.google.com/+SethLadd" target="_blank">+SethLadd </a>on Google+. This dude know it all about Dart
  * Live long and prosper...
